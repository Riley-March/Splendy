(this["webpackJsonpsplendy-web"]=this["webpackJsonpsplendy-web"]||[]).push([[0],{101:function(e,t,a){},102:function(e,t,a){},103:function(e,t,a){},111:function(e,t,a){},112:function(e,t,a){},113:function(e,t,a){},114:function(e,t,a){},115:function(e,t,a){},118:function(e,t,a){},119:function(e,t,a){},122:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),l=a(73),i=a.n(l),r=(a(86),a(87),a(19)),s=a(30),o=a(25),u=a(74),m=(a(101),a(49)),d=a(32),v=a(45),b=(a(102),a(124));a(103);function E(){var e=Object(v.a)(["\n    query Event($event_id: ID!) { \n        event(event_id: $event_id) {\n\t\t\t_id\n            name\n            ticket_url\n\t\t}\n\t}\n"]);return E=function(){return e},e}var f=Object(r.gql)(E()),h=function(e){var t=e.name,a=e.event_id,n=e.quantity,l=e.price,i=e.color,s=Object(r.useQuery)(f,{variables:{event_id:a}}).data;return c.a.createElement("div",{className:"card card-".concat(i)},s&&c.a.createElement("div",null,c.a.createElement("h1",{"data-testid":"title",className:"title"},t),c.a.createElement("h1",{"data-testid":"sub-title",className:"sub-title"},s.event.name),c.a.createElement("h1",{"data-testid":"sub-title",className:"sub-title"},l),c.a.createElement("h1",{"data-testid":"quantity",className:"quantity"},n),c.a.createElement(b.a,{color:"primary",onClick:function(){console.log("clicked")}},"Book Now")))},p=(a(111),a(112),function(e){var t=!e.active||"item-active";return c.a.createElement("div",{"data-testid":"toolbar-item"},e.has_checkbox?c.a.createElement("label",{"data-testid":"check-item",className:"item"},c.a.createElement("input",{onChange:e.handleClick,type:"checkbox",defaultChecked:e.is_checked,defaultValue:e.title}),e.title):c.a.createElement("div",{"data-testid":"text-item",className:"item ".concat(t),onClick:e.handleClick},e.title))}),k=function(e){var t=e.items.map((function(t,a){return{id:a,title:t.name,is_checked:t.visible,has_checkbox:e.has_checkbox,active:t.active}}));return c.a.createElement("div",{className:"outer"},c.a.createElement("div",{"data-testid":"toolbar",className:"toolbar"},c.a.createElement("h2",{"data-testid":"title"},e.title),c.a.createElement("div",{"data-testid":"items",className:"items"},t.map((function(t,a){return c.a.createElement(p,Object.assign({key:a,handleClick:e.handleClick,has_checkbox:t.has_checkbox},t))})))))},g=(a(113),function(){return c.a.createElement("div",{className:"spinner"},c.a.createElement("div",{className:"lds-dual-ring"}))}),_=["blue","yellow","pink","green","orange"],N=function(e){return _[e]};function O(){var e=Object(v.a)(["\n    query Tickets($event_id: ID!) { \n        tickets(event_id: $event_id) {\n\t\t\t_id\n            event_id\n            name\n            price\n            quantity\n\t\t}\n\t}\n"]);return O=function(){return e},e}var y=Object(r.gql)(O()),j=function(){var e=Object(n.useState)([]),t=Object(d.a)(e,2),a=t[0],l=t[1],i=Object(n.useState)(!1),s=Object(d.a)(i,2),o=s[0],u=(s[1],Object(r.useQuery)(y,{variables:{event_id:"6031cad12260322fd75a6c93"}}).data);Object(n.useEffect)((function(){}),[]);var v=function(e){var t=Object(m.a)(a);t=t.map((function(t){return t.name===e&&(t.visible=!t.visible),t})),l(t)},b=function(e){var t,a,n=function(e){var t=localStorage.getItem(e);if(t)return JSON.parse(t)}("app_settings");n=n.map((function(t){return t.title===e&&(t.is_checked=!t.is_checked),t})),t="app_settings",a=n,localStorage.setItem(t,JSON.stringify(a))};return c.a.createElement("div",null,o?c.a.createElement(g,null):c.a.createElement(c.a.Fragment,null,c.a.createElement(k,{title:"Toggle Visible Tickets",items:a,handleClick:function(e){var t=e.currentTarget.value;v(t),b(t)},has_checkbox:!0}),c.a.createElement("div",{className:"ticket-page"},c.a.createElement("div",{className:"card-grid"},u&&u.tickets.map((function(e,t){return c.a.createElement(h,Object.assign({},e,{color:N(t)}))}))))))},w=a(43),C=a.n(w),S=a(37),T=a(78),x=(a(114),a(115),function(e){e.stats;return c.a.createElement("div",{className:"stats-row"})}),A=function(){var e=Object(n.useState)([]),t=Object(d.a)(e,2),a=t[0],l=t[1],i=Object(n.useState)(!1),r=Object(d.a)(i,2),s=r[0],o=r[1];Object(n.useEffect)((function(){function e(){return(e=Object(T.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.next=3,fetch("http://".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_BACKEND_URL:"https://splendy.ramtek.dev"}).REACT_APP_API_URL,"/get_stats")).then((function(e){e.json().then((function(e){var t=e[0].tickets.map((function(e,t){return 0===t?Object(S.a)(Object(S.a)({},e),{},{active:!0}):Object(S.a)(Object(S.a)({},e),{},{active:!1})}));l(t),o(!1)}))})).catch((function(e){console.log(e)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var u=function(e){var t=Object(m.a)(a);t=t.map((function(t){return t.name===e?t.active=!0:t.active=!1,t})),l(t)};return c.a.createElement("div",null,s?c.a.createElement(g,null):c.a.createElement(c.a.Fragment,null,c.a.createElement(k,{title:"Ticket Stats",items:a,handleClick:function(e){var t=e.currentTarget.textContent;u(t)},has_checkbox:!1}),c.a.createElement("div",{className:"stats-grid"},a.filter((function(e){return e.active})).map((function(e,t){return c.a.createElement(x,{key:t,stats:e.stats})})))))},q=a(26),I=a(27),P=(a(118),function(){return c.a.createElement("div",{className:"outer"},c.a.createElement("div",{className:"about-page"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"section left-section"},c.a.createElement(q.a,{icon:I.a,className:"about-icon yellow"}),c.a.createElement("h2",{className:"about-title"},"Splendy"),"Created by Riley March",c.a.createElement("br",null),c.a.createElement("br",null),"Powered by RAMTEK"),c.a.createElement("div",{className:"section"},"This app is to help people secure splendour in the grass tickets from the official resale page. ",c.a.createElement("br",null),c.a.createElement("br",null),"You can target specific tickets and get a notification as soon as tickets become available. ",c.a.createElement("br",null),c.a.createElement("br",null),"This greatly increases your chances of going to the event!",c.a.createElement("br",null),c.a.createElement("br",null),"If you have come across and issues or want to request a feature please send an email to: ",c.a.createElement("br",null),c.a.createElement("br",null),"support@ramtek.dev ",c.a.createElement("br",null),c.a.createElement("br",null),"If you like this app and want to see more please: ",c.a.createElement("br",null),c.a.createElement("br",null)))))}),R=(a(119),function(e){var t=e.title;return c.a.createElement("div",{className:"navbar-outer"},c.a.createElement("div",{className:"navbar","data-testid":"navbar"},c.a.createElement("h2",{"data-testid":"navbar-title"},c.a.createElement(q.a,{icon:I.a,className:"icon yellow"}),t),c.a.createElement("span",{className:"navbar-links"},c.a.createElement(s.b,{className:"link",to:"/","data-testid":"tickets-link"},c.a.createElement("h2",null,c.a.createElement(q.a,{icon:I.d,className:"icon green"}),"Tickets")),c.a.createElement(s.b,{className:"link",to:"/stats","data-testid":"stats-link"},c.a.createElement("h2",null,c.a.createElement(q.a,{icon:I.b,className:"icon pink"}),"Stats")),c.a.createElement(s.b,{className:"link",to:"/about","data-testid":"about-link"},c.a.createElement("h2",null,c.a.createElement(q.a,{icon:I.c,className:"icon blue"}),"About")))))});var D=function(){var e=Object(r.createHttpLink)({uri:"".concat("https://splendy.ramtek.dev","/graphql")}),t=new r.ApolloClient({cache:new r.InMemoryCache,link:e});return c.a.createElement(r.ApolloProvider,{client:t},c.a.createElement(s.a,null,c.a.createElement(u.Notifications,null),c.a.createElement(R,{title:"Splendy"}),c.a.createElement(o.a,{exact:!0,path:"/",component:j}),c.a.createElement(o.a,{exact:!0,path:"/stats",component:A}),c.a.createElement(o.a,{exact:!0,path:"/about",component:P})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(c.a.createElement(D,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},81:function(e,t,a){e.exports=a(122)},86:function(e,t,a){}},[[81,1,2]]]);
//# sourceMappingURL=main.53459b05.chunk.js.map